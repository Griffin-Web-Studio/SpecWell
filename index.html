<!DOCTYPE html>
<html lang="en" class="no-js">
    <!-- https://xd.adobe.com/view/55cb7516-a6a9-4174-a075-2462feb53ea6-0098/specs/ -->
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1" />

        <!-- SET SECURITY POLICY BELOW -->
        <!-- <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' files.gwssecureserver.co.uk; connect-src 'self'; style-src 'self' fonts.googleapis.com 'unsafe-inline' files.gwssecureserver.co.uk; img-src 'self' data: https://*; object-src data: 'unsafe-eval'; child-src; font-src 'self' fonts.gstatic.com"> -->
        <!-- SET SECURITY POLICY ABOVE 
            @see https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP for more details
        -->
        <!-- NO CSS OR JS ABOVE THIS LINE !!! -->

        <title>Spec Testing Utility</title>
        <!-- <meta name="application-name" content="Application Name"> --><!-- Name of web application (only should be used if the website is used as an app) -->
        <!-- <meta name="theme-color" content="#4285f4"> --><!-- Theme Color for Chrome, Firefox OS and Opera -->
        <meta name="description" content="GWS Development team use only" />
        <!-- <meta name="robots" content="index,follow">--><!--All Search Engines -->
        <!-- <meta name="googlebot" content="index,follow"> --><!--Google Specific -->

        <meta name="apple-mobile-web-app-title" content="Griffin Web Studio">
        <meta name="application-name" content="Griffin Web Studio">
        <meta name="msapplication-TileColor" content="#ffffff">
        <meta name="msapplication-TileImage" content="/site_icons/mstile-144x144.png">
        <meta name="msapplication-config" content="/site_icons/browserconfig.xml">
        <meta name="theme-color" content="#ffffff">

        <!--
            for comprehencive list of meta names
            @see https://gist.github.com/lancejpollard/1978404
            @see https://github.com/joshbuchea/HEAD

            Remove this and other comments in head
        -->

        <link rel="shortcut icon" href="/site_icons/favicon.ico">
        <link rel="apple-touch-icon" sizes="180x180" href="/site_icons/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/site_icons/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/site_icons/favicon-16x16.png">
        <link rel="manifest" href="/site_icons/site.webmanifest">
        <link rel="mask-icon" href="/site_icons/safari-pinned-tab.svg" color="#ff0000">

        <link rel="stylesheet" href="./assets/build/css/style.css" />
        
        <!-- <script src="https://files.gwssecureserver.co.uk/files/spec/script.js"></script>
        <link rel="stylesheet" href="https://files.gwssecureserver.co.uk/files/spec/style.css" /> -->

    </head>

    <body class="">
        <div class="website-frame-container">
            <iframe src="" class="website-frame"></iframe>
        </div>
       
        <script>
            const frame_container = document.querySelector('.website-frame-container'),
                  frame_site = document.querySelector('.website-frame');
            var iframe_loaded = 0;
            frame_site.onload = function() {
                /*if (iframe_loaded !== 1) {*/
                    setTimeout(iResize, 50);
                    // Safari and Opera need a kick-start.
                    /*var iSource = frame_site.src;
                    frame_site.src = '';
                    frame_site.src = iSource;*/
                    /*iframe_loaded = 1;
                }*/
            }

            function iResize() {
                if (frame_site.src !== window.location.href) {
                    frame_site.contentWindow.postMessage('can I get your height?', '*');
                    
                    window.addEventListener('message', function (e) {
                        var data = e.data;
                        console.log(data);

                        var child_frame_response = JSON.parse(data);
                        console.log(child_frame_response.my_height);
                        frame_container.style.height = child_frame_response.my_height + (child_frame_response.my_height / 5) + 'px';
                    });
                    // frame_container.style.height = 99999 'vh';
                }
            }
        </script>

        <script src="./assets/build/js/script.min.js"></script>

    </body>
</html>
