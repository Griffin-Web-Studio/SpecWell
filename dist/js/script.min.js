function bugHere($val) {
    console.warn("============== DEBUG DOWN ==============");
    console.log($val);
    console.warn("=============== DEBUG UP ===============");
}

function setCookie(cname, cvalue, exdays) {
    const d = new Date();
    d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1e3);
    let expires = "expires=" + d.toUTCString();
    document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
}

function getCookie(cname) {
    let name = cname + "=";
    let child_frame_responsezCookie = decodeURIComponent(document.cookie);
    let ca = child_frame_responsezCookie.split(";");
    for (let i = 0; i < ca.length; i++) {
        let c = ca[i];
        while (c.charAt(0) == " ") {
            c = c.substring(1);
        }
        if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
        }
    }
    return "";
}

function setURLSearchParam(key, value) {
    const url = new URL(window.location.href);
    url.searchParams.set(key, value);
    window.history.pushState({
        path: url.href
    }, "", url.href);
}

document.addEventListener("DOMContentLoaded", gws_frontend_validator_widget, false);

function gws_frontend_validator_widget() {
    create_speck_check_tool();
    gws_spec_image = '<div class="gws-sc-image"><img src="" alt="Spec Image Overlay" class="image"/></div>';
    var gws_spec_container = document.body.querySelector(".gws-sc-container"), gws_spec_toggle = gws_spec_container.querySelector(".gws-sc-toggle"), gws_spec_form = gws_spec_container.querySelector(".gws-sc-form"), gws_spec_img_url = gws_spec_form.querySelector(".gws-sc-img-url"), gws_spec_load_image = gws_spec_form.querySelector(".load-spec-image"), gws_spec_unload_image = gws_spec_form.querySelector(".unload-spec-image"), gws_spec_prod_site_url = gws_spec_form.querySelector(".production-site-url"), gws_spec_load_site = gws_spec_form.querySelector(".gws-load-website"), gws_spec_unload_site = gws_spec_form.querySelector(".gws-unload-website"), gws_spec_img_o_adjust = gws_spec_form.querySelector(".spec-opacity"), gws_spec_img_o_decrease = gws_spec_form.querySelector(".spec-opacity-decrease"), gws_spec_img_o_increase = gws_spec_form.querySelector(".spec-opacity-increase"), gws_spec_img_x_adjust = gws_spec_form.querySelector(".spec-x-adjust"), gws_spec_img_x_increase = gws_spec_form.querySelector(".spec-x-adjust-increase"), gws_spec_img_x_decrease = gws_spec_form.querySelector(".spec-x-adjust-decrease"), gws_spec_img_y_adjust = gws_spec_form.querySelector(".spec-y-adjust"), gws_spec_img_y_increase = gws_spec_form.querySelector(".spec-y-adjust-increase"), gws_spec_img_y_decrease = gws_spec_form.querySelector(".spec-y-adjust-decrease"), gws_spec_media_width = gws_spec_form.querySelector(".spec-media-width"), gws_spec_media_width_increase = gws_spec_form.querySelector(".spec-width-increase"), gws_spec_media_width_decrease = gws_spec_form.querySelector(".spec-width-decrease"), gws_spec_media_zoom = gws_spec_form.querySelector(".spec-media-zoom"), gws_spec_media_zoom_increase = gws_spec_form.querySelector(".spec-zoom-increase"), gws_spec_media_zoom_decrease = gws_spec_form.querySelector(".spec-zoom-decrease"), site_width_preset = gws_spec_form.querySelector(".site-width-preset"), gws_spec_image_wrap = document.body.querySelector(".gws-sc-image"), vw = Math.max(document.body.scrollWidth || 0, window.innerWidth || 0), vh = Math.max(document.body.scrollHeight || 0, window.innerHeight || 0), intervalID = -1, timeoutID = -1;
    gws_spec_media_width.value = vw;
    site_width_preset.onchange = function(e) {
        e.preventDefault();
        gws_spec_media_width.value = this.value;
        on_spec_option_change();
    };
    gws_spec_toggle.onclick = function(e) {
        e.preventDefault();
        gws_spec_container.classList.toggle("hide");
        gws_spec_toggle.classList.toggle("hide");
    };
    gws_spec_load_site.onclick = function(e) {
        e.preventDefault();
        frame_site.src = gws_spec_prod_site_url.value;
        on_spec_option_change();
    };
    gws_spec_unload_site.onclick = function(e) {
        e.preventDefault();
        frame_site.src = "";
    };
    gws_spec_unload_image.onclick = function(e) {
        e.preventDefault();
        var x = document.body.querySelector(".gws-sc-image").remove();
    };
    gws_spec_img_o_adjust.onchange = function(e) {
        on_spec_option_change();
    };
    gws_spec_img_o_decrease.onclick = function(e) {
        e.preventDefault();
        gws_spec_img_o_adjust.value -= .1;
        on_spec_option_change();
    };
    gws_spec_img_o_increase.onclick = function(e) {
        e.preventDefault();
        gws_spec_img_o_adjust.value = Number(gws_spec_img_o_adjust.value) + .1;
        on_spec_option_change();
    };
    gws_spec_img_y_adjust.onchange = function(e) {
        on_spec_option_change();
    };
    gws_spec_img_y_increase.addEventListener("mousedown", function(e) {
        sticky_rapid_val_change(gws_spec_img_y_adjust, 1, () => on_spec_option_change());
    });
    gws_spec_img_y_increase.addEventListener("mouseup", e => stop_count_change());
    gws_spec_img_y_increase.addEventListener("mouseout", e => stop_count_change());
    gws_spec_img_y_decrease.addEventListener("mousedown", function(e) {
        sticky_rapid_val_change(gws_spec_img_y_adjust, -1, () => on_spec_option_change());
    });
    gws_spec_img_y_decrease.addEventListener("mouseup", e => stop_count_change());
    gws_spec_img_y_decrease.addEventListener("mouseout", e => stop_count_change());
    gws_spec_img_x_adjust.onchange = function(e) {
        on_spec_option_change();
    };
    gws_spec_img_x_increase.addEventListener("mousedown", function(e) {
        sticky_rapid_val_change(gws_spec_img_x_adjust, 1, () => on_spec_option_change());
    });
    gws_spec_img_x_increase.addEventListener("mouseup", e => stop_count_change());
    gws_spec_img_x_increase.addEventListener("mouseout", e => stop_count_change());
    gws_spec_img_x_decrease.addEventListener("mousedown", function(e) {
        sticky_rapid_val_change(gws_spec_img_x_adjust, -1, () => on_spec_option_change());
    });
    gws_spec_img_x_decrease.addEventListener("mouseup", e => stop_count_change());
    gws_spec_img_x_decrease.addEventListener("mouseout", e => stop_count_change());
    gws_spec_media_width.onchange = function(e) {
        on_spec_option_change();
    };
    gws_spec_media_width_increase.addEventListener("mousedown", function(e) {
        sticky_rapid_val_change(gws_spec_media_width, 1, () => on_spec_option_change());
    });
    gws_spec_media_width_increase.addEventListener("mouseup", e => stop_count_change());
    gws_spec_media_width_increase.addEventListener("mouseout", e => stop_count_change());
    gws_spec_media_width_decrease.addEventListener("mousedown", function(e) {
        sticky_rapid_val_change(gws_spec_media_width, -1, () => on_spec_option_change());
    });
    gws_spec_media_width_decrease.addEventListener("mouseup", e => stop_count_change());
    gws_spec_media_width_decrease.addEventListener("mouseout", e => stop_count_change());
    gws_spec_media_zoom.onchange = function(e) {
        on_spec_option_change();
    };
    gws_spec_media_zoom_increase.addEventListener("mousedown", function(e) {
        sticky_rapid_val_change(gws_spec_media_zoom, 1, () => on_spec_option_change());
    });
    gws_spec_media_zoom_increase.addEventListener("mouseup", e => stop_count_change());
    gws_spec_media_zoom_increase.addEventListener("mouseout", e => stop_count_change());
    gws_spec_media_zoom_decrease.addEventListener("mousedown", function(e) {
        sticky_rapid_val_change(gws_spec_media_zoom, -1, () => on_spec_option_change());
    });
    gws_spec_media_zoom_decrease.addEventListener("mouseup", e => stop_count_change());
    gws_spec_media_zoom_decrease.addEventListener("mouseout", e => stop_count_change());
    function sticky_rapid_val_change(el, num, callback) {
        el.value = Number(el.value) + num;
        on_spec_option_change();
        if (intervalID == -1 && timeoutID == -1) {
            timeoutID = setTimeout(() => {
                intervalID = setInterval(() => {
                    el.value = Number(el.value) + num;
                    callback();
                }, 10);
            }, 500);
        }
    }
    function stop_count_change(e) {
        if (intervalID != -1) {
            clearInterval(intervalID);
            intervalID = -1;
        }
        if (timeoutID != -1) {
            clearTimeout(timeoutID);
            timeoutID = -1;
        }
    }
    window.onresize = function(e) {
        var vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0), vh = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);
        gws_spec_media_width.value = vw;
    };
    function on_spec_option_change() {
        var gws_spec_image_overlay = document.body.querySelector(".gws-sc-image .image"), gws_spec_frame = document.body.querySelector(".website-frame");
        if (typeof gws_spec_image_overlay != "undefined" && gws_spec_image_overlay !== null && gws_spec_frame.src !== null) {
            document.body.querySelector(".gws-sc-image").style["opacity"] = document.body.querySelector(".spec-opacity").value;
            document.body.querySelector(".gws-sc-image .image").style["transform"] = "translate(" + gws_spec_img_x_adjust.value + "px, " + gws_spec_img_y_adjust.value + "px)";
            document.body.querySelector(".website-frame-container").style["width"] = gws_spec_media_width.value + "px";
            document.body.querySelector(".website-frame-container").style["transform"] = "scale(" + gws_spec_media_zoom.value / 100 + ")";
            document.body.querySelector(".gws-sc-image").style["width"] = gws_spec_media_width.value + "px";
            document.body.querySelector(".gws-sc-image").style["transform"] = "scale(" + gws_spec_media_zoom.value / 100 + ")";
        } else if (!(typeof gws_spec_image_overlay != "undefined" && gws_spec_image_overlay !== null && gws_spec_frame.src !== null) && gws_spec_prod_site_url.value !== "") {
            document.body.querySelector(".website-frame-container").style["width"] = gws_spec_media_width.value + "px";
            document.body.querySelector(".website-frame-container").style["transform"] = "scale(" + gws_spec_media_zoom.value / 100 + ")";
            document.body.querySelector(".gws-sc-image .image").style["width"] = gws_spec_media_width.value + "px";
            document.body.querySelector(".gws-sc-image .image").style["transform"] = "scale(" + gws_spec_media_zoom.value / 100 + ")";
        } else {
            alert("You do realise that in order to make changes to the spec or client you need to first load one?");
        }
    }
    if (getCookie("gws_fun_value") === 0 || getCookie("gws_fun_value") === "") {
        setCookie("gws_fun_value", 0, 1);
    }
    gws_spec_load_image.onclick = function(e) {
        var vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0), vh = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);
        gws_spec_media_width.value = vw;
        e.preventDefault();
        if (gws_spec_img_url.value === "" && getCookie("gws_fun_value") === "0") {
            alert('Erm, need speck URL? Ok how about we add something to the input field, lets say something like "farts"');
            gws_spec_img_url.value = "https://farts.com";
        } else if (gws_spec_img_url.value === "https://farts.com" && getCookie("gws_fun_value") === "0") {
            alert("Ok, very mature. How about you enter something a little more creative, like a link to spec?");
            gws_spec_img_url.value = "";
            setCookie("gws_fun_value", 1, 1);
        } else if (gws_spec_img_url.value === "" && getCookie("gws_fun_value") === "1") {
            alert("Please Enter, Spec URL");
        } else if (gws_spec_img_url.value !== "") {
            var gws_spec_image_overlay = document.body.querySelector(".gws-sc-image .image");
            if (typeof gws_spec_image_overlay != "undefined" && gws_spec_image_overlay !== null) {
                gws_spec_image_overlay.src = gws_spec_img_url.value;
                document.body.querySelector(".gws-sc-image").style["opacity"] = document.body.querySelector(".spec-opacity").value;
            } else {
                document.body.insertAdjacentHTML("beforeend", gws_spec_image);
                var gws_spec_image_overlay = document.body.querySelector(".gws-sc-image .image");
                gws_spec_image_overlay.src = gws_spec_img_url.value;
                document.body.querySelector(".gws-sc-image").style["opacity"] = document.body.querySelector(".spec-opacity").value;
            }
        } else {
            alert("What the hec happened? This is wrong!");
        }
        on_spec_option_change();
    };
    const frame_container = document.querySelector(".website-frame-container"), frame_site = document.querySelector(".website-frame"), iSource = "https://files.gwssecureserver.co.uk/files/gws/logo.svg";
    var iframe_loaded = 0;
    frame_site.onload = function() {
        if (iframe_loaded !== 1) {
            frame_site.src = "";
            frame_site.src = iSource;
            iframe_loaded = 1;
        }
        setTimeout(iResize, 50);
    };
    function iResize() {
        console.log("HOST: Need to resize iframe");
        if (frame_site.src !== window.location.href && frame_site.src !== iSource) {
            console.log("HOST: Sending request to iframe with Hello\nSending to: " + gws_spec_prod_site_url.value);
            frame_site.contentWindow.postMessage("can I get your height?", gws_spec_prod_site_url.value);
            window.addEventListener("message", function(e) {
                console.log("HOST: I received some message");
                console.log("HOST: It originated from here: " + e.origin);
                if (gws_spec_prod_site_url.value.startsWith(e.origin)) {
                    console.log("HOST: Origin of the message matches client");
                    console.log("HOST: received this data: ");
                    var data = e.data;
                    console.log(data);
                    console.log("HOST: Unpacking JSON data");
                    var child_frame_response = JSON.parse(data), client_height = child_frame_response.my_height;
                    console.log("HOST: Client claims their height is: " + client_height);
                    frame_container.style.height = client_height + client_height / 5 + "px";
                } else {
                    console.log("CLIENT: Oi, blimey that's was SPAM!!!\nExpected: " + gws_spec_prod_site_url.value + "\ngot: " + e.origin);
                }
            });
        }
    }
}

jQuery($ => {
    $(".accordion-title").on("click", function(e) {
        e.preventDefault();
        var $this = $(this);
        var accordionGroup = $this.closest(".accordion-group");
        if (accordionGroup.hasClass("is-active")) {
            accordionGroup.removeClass("is-active");
        } else {
            accordionGroup.addClass("is-active");
        }
    });
});

jQuery($ => {});

jQuery($ => {
    $.fn.quantityButtons = (e => {
        $('<div class="quantity-nav"><button class="quantity-button quantity-up"></button><button class="quantity-button quantity-down"></button></div>').insertAfter(".quantity input");
        $(".main .quantity").each((index, element) => {
            var spinner = $(element), input = spinner.find('input[type="number"]'), btnUp = spinner.find(".quantity-up"), btnDown = spinner.find(".quantity-down"), min = input.attr("min"), max = input.attr("max");
            if (max == "") {
                max = 9999999999999;
            }
            btnUp.click(e => {
                e.preventDefault();
                e.stopPropagation();
                var oldValue = parseFloat(input.val());
                if (oldValue >= max) {
                    var newVal = oldValue;
                } else {
                    var newVal = oldValue + 1;
                }
                spinner.find("input").val(newVal);
                spinner.find("input").trigger("change");
            });
            btnDown.click(e => {
                e.preventDefault();
                e.stopPropagation();
                var oldValue = parseFloat(input.val());
                if (oldValue <= min) {
                    var newVal = oldValue;
                } else {
                    var newVal = oldValue - 1;
                }
                spinner.find("input").val(newVal);
                spinner.find("input").trigger("change");
            });
        });
    });
    $.fn.quantityButtons();
    $.fn.radioControl = (() => {
        setInterval(() => {
            var selector = $("input[type=radio]");
            _document_body.find(selector).each((index, element) => {
                var item = $(element);
                if (item.data("styled") !== true) {
                    item.data("styled", true);
                    item.wrap('<label class="control control--radio"></label>');
                    $('<div class="control__indicator"></div>').insertAfter(item);
                }
            });
        }, 500);
    });
    $.fn.radioControl();
    $.fn.checkboxControl = (() => {
        setInterval(() => {
            var selector = $("input[type=checkbox]");
            _document_body.find(selector).each((index, element) => {
                var item = $(element);
                if (item.data("styled") !== true) {
                    item.data("styled", true);
                    item.wrap('<label class="control control--checkbox"></label>');
                    $('<div class="control__indicator"></div>').insertAfter(item);
                }
            });
        }, 100);
    });
    $.fn.checkboxControl();
    $.fn.selectControl = (() => {
        setInterval(() => {
            var selector = $("select");
            _document_body.find(selector).each((index, element) => {
                var item = $(element);
                if (item.data("styled") !== true) {
                    item.data("styled", true);
                    $(item).wrap('<div class="select"></div>');
                    $('<div class="select__arrow"></div>').insertAfter(item);
                }
            });
        }, 100);
    });
    $.fn.selectControl();
});

jQuery($ => {
    _document.on("click", ".tabs-link", function(e) {
        e.preventDefault();
        var $tabLink = $(this);
        var $tabs = $tabLink.closest(".tabs");
        var target = $tabLink.attr("href");
        $tabs.find(".is-active").removeClass("is-active");
        $tabLink.addClass("is-active");
        $(target).addClass("is-active");
    });
});

jQuery($ => {});

function create_speck_check_tool() {
    if (!window.location.href.startsWith("http://192.168") && !window.location.href.startsWith("http://localhost")) {
        alert("The Spec-Check Tool was loaded externally. Therefore it must enqueue a CSS script to render correctly.");
        var css_link = document.createElement("link");
        css_link.href = ".css";
        css_link.type = "text/css";
        css_link.rel = "stylesheet";
        css_link.media = "screen,print";
        document.getElementsByTagName("head")[0].appendChild(css_link);
    }
    const gws_spec_widget = '<div class="gws-sc-container">' + '<a href="#" class="gws-sc-toggle">Spec-Check Options <span class="ico">⬆️</span></a>' + '<div class="gws-sc-container-inner">' + '<div class="gws-sc-flex justify-center gws-sc-flex-24">' + '<div class="gws-sc-flex-8 gws-sc-logo">' + '<a href="https://griffin.studio" class="gws-sc-logo" title="Griffin Web Studio Garage">' + '<img src="https://files.gwssecureserver.co.uk/files/gws/logo.svg" alt="GWS Logo">' + "| Garage |" + "</a>" + "</div>" + "</div>" + '<form method="get" class="gws-sc-form">' + '<div class="gws-sc-flex">' + '<div class="gws-sc-flex-24 gws-sc-flex">' + '<div class="gws-sc-flex-24 gws-sc-flex">' + '<div class="gws-sc-flex-24">' + '<div class="gws-sc-input-group">' + '<label for="production-site" class="gws-sc-label">Production Site URL</label>' + '<div class="gws-sc-flex">' + '<input type="url" name="production-site" id="production-site" class="gws-sc-input production-site-url" placeholder="https://path.to-dev-website.tld">' + '<a class="gws-button black-button gws-load-website">Load Website Frame</a>' + '<a class="gws-button red-button gws-unload-website">Unload Website Frame</a>' + "</div>" + "</div>" + "</div>" + '<div class="gws-sc-flex-24">' + '<div class="gws-sc-input-group">' + '<label for="spec-img" class="gws-sc-label">Spec Image URL</label>' + '<div class="gws-sc-flex">' + '<input type="url" name="spec-img" id="spec-img" class="gws-sc-input gws-sc-img-url" placeholder="https://path.to.spec/image.png">' + '<a class="gws-button black-button load-spec-image">Load Spec Image</a>' + '<a class="gws-button red-button unload-spec-image">Unload Spec Image</a>' + "</div>" + "</div>" + "</div>" + '<div class="gws-sc-flex-24">' + '<div class="gws-sc-input-group">' + '<label for="spec-opacity" class="gws-sc-label">Spec Image Opacity</label>' + '<div class="gws-sc-flex">' + '<div class="gws-sc-input-like">' + '<input type="range" id="spec_opacity" class="spec-opacity" name="spec-opacity" value="0.3" min="0" max="1" step="0.1">' + "</div>" + '<a class="gws-button black-button spec-opacity-decrease">-</a>' + '<a class="gws-button red-button spec-opacity-increase">+</a>' + "</div>" + "</div>" + "</div>" + '<div class="gws-sc-flex-24">' + '<div class="gws-sc-input-group">' + '<label class="gws-sc-label">Spec Axis Adjust</label>' + '<div class="gws-sc-input-like no-padding">' + '<div class="gws-sc-flex">' + '<div class="gws-sc-flex-12">' + '<label for="spec-x-adjust" class="gws-sc-label full">X Axis Adjust</label>' + "</div>" + '<div class="gws-sc-flex-12">' + '<label for="spec-y-adjust" class="gws-sc-label full">Y Axis Adjust</label>' + "</div>" + '<div class="gws-sc-flex-12">' + '<input type="number" id="spec-x-adjust" class="gws-sc-input spec-x-adjust" name="spec-x-adjust" value="0">' + "</div>" + '<div class="gws-sc-flex-12">' + '<input type="number" id="spec-y-adjust" class="gws-sc-input spec-y-adjust" name="spec-y-adjust" value="0">' + "</div>" + "</div>" + "</div>" + '<div class="gws-sc-flex">' + '<div class="gws-sc-flex-12">' + '<div class="gws-sc-flex">' + '<a class="gws-button black-button spec-x-adjust-decrease">-</a>' + '<a class="gws-button red-button spec-x-adjust-increase">+</a>' + "</div>" + "</div>" + '<div class="gws-sc-flex-12">' + '<div class="gws-sc-flex">' + '<a class="gws-button black-button spec-y-adjust-decrease">-</a>' + '<a class="gws-button red-button spec-y-adjust-increase">+</a>' + "</div>" + "</div>" + "</div>" + "</div>" + "</div>" + "</div>" + '<div class="gws-sc-flex-24">' + '<div class="gws-sc-input-group">' + '<label for="site-width-preset" class="gws-sc-label">Media Options</label>' + '<div class="gws-sc-flex">' + '<div class="gws-sc-input-like no-padding">' + '<div class="gws-sc-flex">' + '<div class="gws-sc-flex-24">' + '<label for="site-width-preset" class="gws-sc-label full">Media Presets</label>' + "</div>" + '<div class="gws-sc-flex-24">' + '<select name="site-width-preset" id="site-width-preset" class="site-width-preset">' + "<option selected disabled>Select Media Preset</option>" + '<option value="320">s-mobile  320)</option>' + '<option value="375">m-mobile  375)</option>' + '<option value="425">l-mobile  425)</option>' + '<option value="540">s-tablet  540)</option>' + '<option value="655">m-tablet  655)</option>' + '<option value="768">l-tablet  768)</option>' + '<option value="854">s-laptop  854)</option>' + '<option value="940">m-laptop  940)</option>' + '<option value="1024">l-laptop  1024)</option>' + '<option value="1440">s-desktop 1440)</option>' + '<option value="1920">m-desktop 1920)</option>' + '<option value="2560">l-desktop 2560)</option>' + "</select>" + "</div>" + "</div>" + '<div class="gws-sc-input-like no-padding no-border">' + '<div class="gws-sc-flex">' + '<div class="gws-sc-flex-12">' + '<label for="spec-media-width" class="gws-sc-label full">Media Width</label>' + "</div>" + '<div class="gws-sc-flex-12">' + '<label for="spec-media-zoom" class="gws-sc-label full">Media Zoom</label>' + "</div>" + '<div class="gws-sc-flex-12">' + '<input type="number" id="spec-media-width" class="gws-sc-input spec-media-width" name="spec-media-width" value="800">' + "</div>" + '<div class="gws-sc-flex-12">' + '<input type="number" id="spec-media-zoom" class="gws-sc-input spec-media-zoom" name="spec-media-zoom" value="100">' + "</div>" + "</div>" + "</div>" + "</div>" + "</div>" + '<div class="gws-sc-flex">' + '<div class="gws-sc-flex-12">' + '<div class="gws-sc-flex">' + '<a class="gws-button black-button spec-width-decrease">-</a>' + '<a class="gws-button red-button spec-width-increase">+</a>' + "</div>" + "</div>" + '<div class="gws-sc-flex-12">' + '<div class="gws-sc-flex">' + '<a class="gws-button black-button spec-zoom-decrease">-</a>' + '<a class="gws-button red-button spec-zoom-increase">+</a>' + "</div>" + "</div>" + "</div>" + "</div>" + "</div>" + '<div class="gws-sc-flex-24">' + '<div class="gws-sc-input-group">' + '<label for="gws-sc-client-com" class="gws-sc-label">Client <-> Host Communication</label>' + '<div class="gws-sc-flex">' + '<div class="gws-sc-input-like">' + '<p class="gws-sc-client-com-note">For this spec checker to automatically correct frame height, you need to add this script anywhere before the end of the body. Do it on the page you about to spec check.</p>' + '<textarea id="gws-sc-client-com" name="gws-sc-client-com" class="gws-sc-code-child">' + "&lt;script&gt;&#10;" + "    window.addEventListener('message', event => {&#10;" + "        console.log('CLIENT: I received some message');&#10;" + "        console.log('CLIENT: It originated from here: ' + event.origin);&#10;" + "&#10;" + "        if (event.origin.startsWith('http://192.168') || event.origin.startsWith('http://localhost') || event.origin.startsWith('https://gws-internal.griffin-studio.co.uk/')) {&#10;" + "            console.log('CLIENT: It came from good source');&#10;" + "&#10;" + "            if (event.data === 'can I get your height?') {&#10;" + "                console.log('CLIENT: It contains hello message: ' + event.data);&#10;" + "                var i_height = document.body.offsetHeight;&#10;" + "&#10;" + "                const spec_response_data = JSON.stringify({&#10;" + "                    my_height: i_height,&#10;" + "                });&#10;" + "&#10;" + "                console.log('CLIENT: Sending my hight, which is: ' + i_height);&#10;" + "                console.log('CLIENT: Debug json: ');&#10;" + "                console.log(spec_response_data);&#10;" + "&#10;" + "                window.parent.postMessage(spec_response_data, event.origin);&#10;" + "            } else {&#10;" + "                console.log('CLIENT: Oi, blimey that\\'s was SPAM!!!\\nhad to contain hello: \"can I get your height?\"/\\nInstead I got: ');&#10;" + "                console.log(event.data);&#10;" + "            }&#10;" + "        } else {&#10;" + "            console.log('CLIENT: Oi, blimey that\\'s was SPAM!!!\\nOrigin start must match: http://192.168, http://localhost, or https://gws-internal.griffin-studio.co.uk/\\nInstead I got: ');&#10;" + "            console.log(event);&#10;" + "        }&#10;" + "&#10;" + "    });&#10;" + "&lt;/script&gt;&#10;" + "</textarea>" + "</div>" + "</div>" + "</div>" + "</div>" + "</div>" + "</div>" + "</form>" + "</div>" + "</div>";
    document.body.insertAdjacentHTML("beforeend", gws_spec_widget);
}